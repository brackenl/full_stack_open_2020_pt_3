{"version":3,"sources":["Components/Notification/Notification.js","Components/Filter/Filter.js","Components/NewPersonForm/NewPersonForm.js","Components/NumbersDisplay/Number/Number.js","Components/NumbersDisplay/NumbersDisplay.js","Services/numberService.js","Components/App/App.js","index.js"],"names":["successStyle","color","fontSize","background","border","width","errorStyle","Notification","props","notification","style","error","className","message","Filter","onChange","handleFilterChange","value","filter","NewPersonForm","onSubmit","handleSubmit","handleNameChange","newName","marginTop","handleNumChange","newNum","type","Number","person","handleDelete","name","number","onClick","id","NumbersDisplay","filteredPersons","map","key","baseUrl","axios","get","then","response","data","newPerson","post","updatedPerson","put","delete","App","useState","persons","setPersons","setNewName","setNewNum","setFilter","setNotification","useEffect","getAllPersons","numberService","toLowerCase","includes","e","target","preventDefault","samePerson","length","window","confirm","updated","result","setTimeout","catch","returnedPerson","concat","relPerson","find","deleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.240f8078.chunk.js","sourcesContent":["import React from \"react\";\n\nconst successStyle = {\n  color: \"green\",\n  fontSize: \"1.2rem\",\n  background: \"lightgray\",\n  border: \"3px solid green\",\n  width: \"80%\",\n};\n\nconst errorStyle = {\n  color: \"red\",\n  fontSize: \"1.2rem\",\n  background: \"lightgray\",\n  border: \"3px solid red\",\n  width: \"80%\",\n};\n\nconst Notification = (props) => {\n  if (props.notification) {\n    return (\n      <div style={props.notification.error ? errorStyle : successStyle}>\n        <h1 className=\"notification\">{props.notification.message}</h1>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter: <input onChange={props.handleFilterChange} value={props.filter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst NewPersonForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <h2>Add new</h2>\n      <div>\n        name: <input onChange={props.handleNameChange} value={props.newName} />\n      </div>\n      <div style={{ marginTop: \"5px\" }}>\n        number: <input onChange={props.handleNumChange} value={props.newNum} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewPersonForm;\n","import React from \"react\";\n\nconst Number = ({ person, handleDelete }) => {\n  return (\n    <div className=\"number\">\n      <p>\n        {person.name} {person.number}\n      </p>\n      <button onClick={() => handleDelete(person.id)}>Delete</button>\n    </div>\n  );\n};\n\nexport default Number;\n","import React from \"react\";\n\nimport Number from \"./Number/Number\";\n\nconst NumbersDisplay = ({ filteredPersons, handleDelete }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {filteredPersons.map((person) => (\n        <Number key={person.name} person={person} handleDelete={handleDelete} />\n      ))}\n    </div>\n  );\n};\n\nexport default NumbersDisplay;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst addPerson = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst updatePerson = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, addPerson, updatePerson, deletePerson };\n","import React, { useState, useEffect } from \"react\";\n\nimport Notification from \"../Notification/Notification\";\nimport Filter from \"../Filter/Filter\";\nimport NewPersonForm from \"../NewPersonForm/NewPersonForm\";\nimport NumbersDisplay from \"../NumbersDisplay/NumbersDisplay\";\nimport numberService from \"../../Services/numberService\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    getAllPersons();\n  }, []);\n\n  const getAllPersons = () => {\n    numberService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n  };\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value);\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumChange = (e) => {\n    setNewNum(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNum,\n    };\n\n    const samePerson = persons.filter(\n      (person) => person.name === newPerson.name\n    );\n    if (samePerson.length > 0) {\n      const result = window.confirm(\n        `${newPerson.name} is already added to the phonebook. Update the number associated with this contact?`\n      );\n      if (result) {\n        numberService\n          .updatePerson(samePerson[0].id, newPerson)\n          .then((updated) => {\n            getAllPersons();\n          })\n          .then((result) => {\n            setNotification({\n              message: `${newPerson.name} was updated in the phonebook`,\n              error: false,\n            });\n            setTimeout(() => {\n              setNotification(null);\n            }, 3000);\n          })\n          .catch((error) => {\n            setNotification({\n              message: `${newPerson.name} was not found in the phonebook`,\n              error: true,\n            });\n            setTimeout(() => {\n              setNotification(null);\n            }, 3000);\n          });\n      }\n    } else {\n      numberService\n        .addPerson(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNum(\"\");\n        })\n        .then((result) => {\n          setNotification({\n            message: `${newPerson.name} was added to the phonebook`,\n            error: false,\n          });\n          setTimeout(() => {\n            setNotification(null);\n          }, 3000);\n        })\n        .catch((error) => {\n          setNotification({\n            message: `${newPerson.name} was not found in the phonebook`,\n            error: true,\n          });\n          setTimeout(() => {\n            setNotification(null);\n          }, 3000);\n        });\n    }\n  };\n\n  const handleDelete = (id) => {\n    const relPerson = persons.find((person) => person.id === id);\n    const result = window.confirm(\n      `Do you really want to delete ${relPerson.name}?`\n    );\n    if (result) {\n      numberService.deletePerson(id).then((deleted) => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n\n  let filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <Notification notification={notification} />\n      <h2>Phonebook</h2>\n      <Filter handleFilterChange={handleFilterChange} filter={filter} />\n      <NewPersonForm\n        handleSubmit={handleSubmit}\n        handleNumChange={handleNumChange}\n        handleNameChange={handleNameChange}\n        newName={newName}\n        newNum={newNum}\n      />\n\n      <NumbersDisplay\n        filteredPersons={filteredPersons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \".//Components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}